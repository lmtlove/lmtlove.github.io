<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta property="og:type" content="website">
<meta property="og:title" content="你好">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="你好">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Like-Mt-T">
<meta name="twitter:card" content="summary"><title>你好</title><link ref="canonical" href="http://example.com/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Like-Mt-T</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/09/05/videoRecord/">前端视频录屏</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-09-05</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="详细文档请看下方"   >
          <a href="#详细文档请看下方" class="heading-link"><i class="fas fa-link"></i></a><a href="#详细文档请看下方" class="headerlink" title="详细文档请看下方"></a>详细文档请看下方</h3>
      <span class="exturl"><a class="exturl__link"   href="https://juejin.cn/post/7137949253493587975#heading-27"  target="_blank">
详细文档
</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>


        <h3 id="方案的选择标准"   >
          <a href="#方案的选择标准" class="heading-link"><i class="fas fa-link"></i></a><a href="#方案的选择标准" class="headerlink" title="方案的选择标准"></a>方案的选择标准</h3>
      <p>能够完整录制用户操作行为<br>跨平台使用<br>用户对“录制”操作无感知<br>录制可回放，方便存储</p>

        <h3 id="方案的选型"   >
          <a href="#方案的选型" class="heading-link"><i class="fas fa-link"></i></a><a href="#方案的选型" class="headerlink" title="方案的选型"></a>方案的选型</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">webRTc</span><br><span class="line">or</span><br><span class="line">rrweb</span><br></pre></td></tr></table></div></figure>


        <h3 id="webRTc"   >
          <a href="#webRTc" class="heading-link"><i class="fas fa-link"></i></a><a href="#webRTc" class="headerlink" title="webRTc"></a>webRTc</h3>
      <span class="exturl"><a class="exturl__link"   href="https://github.com/Huhui-coder/webRTC-demo"  target="_blank">
webRTc实现代码
</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>


        <h1 id="介绍"   >
          <a href="#介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1>
      <p>WebRTC (Web Real-Time Communications) 是一项实时通讯技术，它允许网络应用或者站点，在不借助中间媒介的情况下，建立浏览器之间点对点（Peer-to-Peer）的连接，实现视频流和（或）音频流或者其他任意数据的传输。WebRTC 包含的这些标准使用户在无需安装任何插件或者第三方的软件的情况下，创建点对点（Peer-to-Peer）的数据分享和电话会议成为可能</p>

        <h1 id="简析原理"   >
          <a href="#简析原理" class="heading-link"><i class="fas fa-link"></i></a><a href="#简析原理" class="headerlink" title="简析原理"></a>简析原理</h1>
      <p><img src="/assets/webRtc.png" alt="avatar"></p>

        <h1 id="使用"   >
          <a href="#使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用" class="headerlink" title="使用"></a>使用</h1>
      <p>html:</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button <span class="built_in">id</span>=<span class="string">&quot;start&quot;</span>&gt;屏幕分享&lt;/button&gt;</span><br><span class="line">  &lt;button <span class="built_in">id</span>=<span class="string">&quot;record&quot;</span>&gt;开始录制&lt;/button&gt;</span><br><span class="line">  &lt;button <span class="built_in">id</span>=<span class="string">&quot;stop&quot;</span>&gt;结束录制&lt;/button&gt;</span><br><span class="line">  &lt;button <span class="built_in">id</span>=<span class="string">&quot;download&quot;</span>&gt;下载视频&lt;/button&gt;</span><br><span class="line">  &lt;video autoplay playsinline <span class="built_in">id</span>=<span class="string">&quot;player&quot;</span>&gt;&lt;/video&gt;</span><br><span class="line">  &lt;script src=<span class="string">&quot;./index.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></div></figure>

<p>js:</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">// 核心代码如下，具体示例可见下方 github</span><br><span class="line"><span class="built_in">let</span> buffer = [], // 存储录制视频的data数据段</span><br><span class="line">  mediaRecorder, // new MediaRecorder 的实例对象</span><br><span class="line">  allStream; // navigator.mediaDevices.getDisplayMedia 返回的stream</span><br><span class="line"></span><br><span class="line">class WebRTCAction &#123;</span><br><span class="line">  <span class="function"><span class="title">start</span></span>() &#123;</span><br><span class="line">    // ...</span><br><span class="line">    navigator.mediaDevices</span><br><span class="line">      .getDisplayMedia(&#123;</span><br><span class="line">        video: <span class="literal">true</span>,</span><br><span class="line">        audio: <span class="literal">false</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="keyword">then</span>(stream =&gt; &#123;</span><br><span class="line">        allStream = stream;</span><br><span class="line">        document.querySelector(<span class="string">&#x27;#player&#x27;</span>).srcObject = stream;</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(err =&gt; &#123;</span><br><span class="line">        console.error(err);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">record</span></span>() &#123;</span><br><span class="line">    const options = &#123;</span><br><span class="line">      mimeType: <span class="string">&#x27;video/webm;codecs=vp8&#x27;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    // 判断是否是支持的mimeType格式</span><br><span class="line">    <span class="keyword">if</span> (!MediaRecorder.isTypeSupported(options.mimeType)) &#123;</span><br><span class="line">      console.error(<span class="string">&#x27;不支持的视频格式&#x27;</span>);</span><br><span class="line">      <span class="built_in">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    try &#123;</span><br><span class="line">      mediaRecorder = new MediaRecorder(allStream, options);</span><br><span class="line">      // 处理采集到的事件</span><br><span class="line">      mediaRecorder.ondataavailable = <span class="keyword">function</span>(e) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e &amp;&amp; e.data &amp;&amp; e.data.size &gt; 0) &#123;</span><br><span class="line">          // 存储到数组中</span><br><span class="line">          buffer.push(e.data);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      // 开始录制</span><br><span class="line">      mediaRecorder.start(10);</span><br><span class="line">    &#125; catch (e) &#123;</span><br><span class="line">      console.error(e);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">download</span></span>() &#123;</span><br><span class="line">    mediaRecorder.stop();</span><br><span class="line">    // ...</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">stop</span></span>() &#123;</span><br><span class="line">    //...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const webAction = new WebRTCAction();</span><br></pre></td></tr></table></div></figure>

        <h1 id="优点"   >
          <a href="#优点" class="heading-link"><i class="fas fa-link"></i></a><a href="#优点" class="headerlink" title="优点"></a>优点</h1>
      <p>使用简单，API 较为简单，可将录屏获得的数据转为视频资源，进行 OSS 直传。<br>跨平台(Web、Windows、MacOS、Linux、iOS、Android)</p>

        <h1 id="缺点"   >
          <a href="#缺点" class="heading-link"><i class="fas fa-link"></i></a><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h1>
      <p>用户可操作性太大，且是由用户进行录屏窗口的选择，无法做到用户无感知录制，录制之后为视频资源，占据比较大的存储空间。</p>

        <h3 id="rrweb"   >
          <a href="#rrweb" class="heading-link"><i class="fas fa-link"></i></a><a href="#rrweb" class="headerlink" title="rrweb"></a>rrweb</h3>
      
        <h1 id="介绍-1"   >
          <a href="#介绍-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h1>
      <p>rrweb 是 ‘record and replay the web’ 的简写，旨在利用现代浏览器所提供的强大 API 录制并回放任意 web 界面中的用户操作。</p>

        <h1 id="使用-1"   >
          <a href="#使用-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用-1" class="headerlink" title="使用"></a>使用</h1>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add rrweb rrweb-player -S</span><br><span class="line">or </span><br><span class="line">npm install rrweb rrweb-player -S</span><br></pre></td></tr></table></div></figure>


        <h1 id="github代码"   >
          <a href="#github代码" class="heading-link"><i class="fas fa-link"></i></a><a href="#github代码" class="headerlink" title="github代码"></a>github代码</h1>
      <p><span class="exturl"><a class="exturl__link"   href="https://github.com/Huhui-coder/rrweb-demo"  target="_blank">rrweb代码</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h1 id="简析原理-1"   >
          <a href="#简析原理-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#简析原理-1" class="headerlink" title="简析原理"></a>简析原理</h1>
      <p>录制<br><img src="/assets/startRRweb.png" alt="avatar"><br>回放<br><img src="/assets/replayRRweb.png" alt="avatar"></p>

        <h1 id="优点-1"   >
          <a href="#优点-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#优点-1" class="headerlink" title="优点"></a>优点</h1>
      <p> 是业界方案，github star 数量较多，值得信赖，能够实现用户无感知录屏，并且可以很方便的实现用户操作的复现。</p>

        <h1 id="缺点-1"   >
          <a href="#缺点-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h1>
      <p>对于特殊场景的支持不够友好，比如对于存在 pdf 的场景下，就会表现的十分卡顿。</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/08/29/htmlString/">html字符串解析</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-08-29</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="vue"   >
          <a href="#vue" class="heading-link"><i class="fas fa-link"></i></a><a href="#vue" class="headerlink" title="vue"></a>vue</h1>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> htmlMsg = <span class="string">&#x27;&lt;p&gt;这是一段html字符串&lt;/p&gt;&#x27;</span></span><br><span class="line">&lt;div v-html=<span class="string">&quot;htmlMsg&quot;</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></div></figure>

        <h1 id="微信小程序"   >
          <a href="#微信小程序" class="heading-link"><i class="fas fa-link"></i></a><a href="#微信小程序" class="headerlink" title="微信小程序"></a>微信小程序</h1>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在js中定义: </span><br><span class="line">msg:<span class="string">&#x27;&lt;p style=&quot;color:red&quot;&gt;红色的字&lt;/p&gt;&#x27;</span></span><br><span class="line">在wxml中取值，使用rich-text</span><br><span class="line">&lt;rich-text nodes=<span class="string">&quot;&#123;&#123;msg&#125;&#125;&quot;</span>&gt;&lt;/rich-text&gt;</span><br></pre></td></tr></table></div></figure>

        <h1 id="react"   >
          <a href="#react" class="heading-link"><i class="fas fa-link"></i></a><a href="#react" class="headerlink" title="react"></a>react</h1>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const msg=<span class="string">&#x27;&lt;p style=&quot;color:red&quot;&gt;红色的字&lt;/p&gt;&#x27;</span></span><br><span class="line">&lt;div dangerouslySetInnerHTML=&#123;&#123;__html:msg&#125;&#125;&gt;&lt;/div&gt;</span><br><span class="line">这里要注意，这个div只能放这个html解析的内容，不能再在div里写别的内容，否则会报错</span><br></pre></td></tr></table></div></figure></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/08/26/react/">react hook函数</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-08-26</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-08-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="useEffect"   >
          <a href="#useEffect" class="heading-link"><i class="fas fa-link"></i></a><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h3>
      <p>介绍：第一个参数是函数，第二个参数是依赖项，可不传</p>
<ol>
<li>useEffect进入页面执行一次</li>
<li>useEffect没有依赖项则执行回调函数里面的</li>
<li>useEffect没有依赖项进入页面只执行一次</li>
<li>useEffect有依赖项则依赖项更新useEffect也会执行<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const [count, setCount] = React.useState(0)</span><br><span class="line">    // 没有依赖项</span><br><span class="line">    React.useEffect(() =&gt; &#123;</span><br><span class="line">        console.log(`useEffect<span class="variable">$&#123;count&#125;</span>....`);</span><br><span class="line">    &#125;, [])</span><br><span class="line"></span><br><span class="line">    // 有依赖项</span><br><span class="line">    React.useEffect(() =&gt; &#123;</span><br><span class="line">        console.log(`useEffect<span class="variable">$&#123;count&#125;</span>....`);</span><br><span class="line">    &#125;, [count])</span><br><span class="line">    // 清除副作用例子</span><br><span class="line">   React.useEffect(() =&gt; &#123;</span><br><span class="line">        const id = setInterval(() =&gt; &#123;</span><br><span class="line">            console.log(<span class="number">1</span>, &#x27;我是定时器&#x27;, count);</span><br><span class="line">            setCount(count + <span class="number">1</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">        return () =&gt; &#123;</span><br><span class="line">            console.log(<span class="number">2</span>, `我清理的是 <span class="variable">$&#123;count&#125;</span> 的副作用`);</span><br><span class="line">            clearInterval(id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, [count]);</span><br></pre></td></tr></table></div></figure></li>
</ol>

        <h3 id="memo"   >
          <a href="#memo" class="heading-link"><i class="fas fa-link"></i></a><a href="#memo" class="headerlink" title="memo"></a>memo</h3>
      <p>介绍:主要是使用子组件使用 父组件传给子组件props参数<br>父组件的值修改 子组件也会重新渲染</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; memo &#125; from <span class="string">&#x27;react&#x27;</span></span><br><span class="line">import &#123; Button &#125; from <span class="string">&#x27;antd&#x27;</span></span><br><span class="line"></span><br><span class="line">// 子组件</span><br><span class="line">const SunUse = memo((props: any) =&gt; &#123;</span><br><span class="line">    return &lt;&gt;</span><br><span class="line">    &#123;/* memo加只会执行一次 不加则父组件更新子组件也更新 */&#125;</span><br><span class="line">        &#123;console.log(&#x27;<span class="number">11</span>&#x27;)&#125;</span><br><span class="line">        &lt;Button&gt;useEffect&#123;props.count&#125;&lt;/Button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 父组件</span><br><span class="line">const ReactUse = () =&gt; &#123;</span><br><span class="line">    // 修改的值</span><br><span class="line">    const [count, setCount] = React.useState(<span class="number">0</span>)</span><br><span class="line">    // 没有修改的值</span><br><span class="line">    const [count1, setCount1] = React.useState(<span class="number">0</span>)</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">        &lt;SunUse count=&#123;count1&#125; /&gt;</span><br><span class="line">        &lt;Button onClick=&#123;() =&gt;  setCount(count + <span class="number">1</span>)&#125;&gt;点击&#123;count&#125;&lt;/Button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#125;</span><br><span class="line">export default ReactUse</span><br></pre></td></tr></table></div></figure>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/08/17/hexoFlexBlock/">hexo-theme-flex-block</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-08-17</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="官方文档"   >
          <a href="#官方文档" class="heading-link"><i class="fas fa-link"></i></a><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3>
      <p><span class="exturl"><a class="exturl__link"   href="https://github.com/miiiku/hexo-theme-flexblock"  target="_blank">https://github.com/miiiku/hexo-theme-flexblock</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><a href="https://www.foreverblog.cn/go.html" target="_blank"> <img src="https://img.foreverblog.cn/wormhole_1_tp.gif" alt="" style="width:auto;height:32px;" title="穿梭虫洞-随机访问十年之约友链博客"></a></p>

        <h3 id="安装"   >
          <a href="#安装" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装" class="headerlink" title="安装"></a>安装</h3>
      <p>因npm里没有flex-block包</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">克隆</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/miiiku/hexo-theme-flexblock.git ./themes/flex-block</span><br><span class="line">or</span><br><span class="line">下载压缩包</span><br><span class="line">https://github.com/miiiku/hexo-theme-flexblock/archive/refs/heads/master.zip</span><br></pre></td></tr></table></div></figure>


        <h3 id="使用"   >
          <a href="#使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用" class="headerlink" title="使用"></a>使用</h3>
      <p>在根目录_config.yml中添加后 如不清除主题无法加载出来</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">theme: flex-block</span><br><span class="line">终端</span><br><span class="line">hexo clean </span><br><span class="line">hexo s</span><br></pre></td></tr></table></div></figure>


        <h3 id="front-matter配置"   >
          <a href="#front-matter配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#front-matter配置" class="headerlink" title="front-matter配置"></a>front-matter配置</h3>
      <p>flex-block在提供front-matter配置项<br><img src="/assets/flex.png" alt="avatar"></p>

        <h3 id="图片"   >
          <a href="#图片" class="heading-link"><i class="fas fa-link"></i></a><a href="#图片" class="headerlink" title="图片"></a>图片</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;%  image</span><br><span class="line">    url=<span class="string">&quot;https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg&quot;</span></span><br><span class="line">    title=<span class="string">&quot;带描述带图片&quot;</span></span><br><span class="line">%&#125;</span><br></pre></td></tr></table></div></figure>

        <h3 id="音频"   >
          <a href="#音频" class="heading-link"><i class="fas fa-link"></i></a><a href="#音频" class="headerlink" title="音频"></a>音频</h3>
      <p>插入aplayer音频播放器需要在Front-matter中添加aplayer: true</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;%  aplayer</span><br><span class="line">    url=<span class="string">&quot;https://qiniu.sukoshi.xyz/public/music/鹿乃 - アイロニ.mp3&quot;</span></span><br><span class="line">    name=<span class="string">&quot;アイロニ&quot;</span></span><br><span class="line">    artist=<span class="string">&quot;鹿乃&quot;</span></span><br><span class="line">    cover=<span class="string">&quot;https://qiniu.sukoshi.xyz/public/music/鹿乃 - アイロニ.jpg&quot;</span></span><br><span class="line">    lrc=<span class="string">&quot;https://qiniu.sukoshi.xyz/public/music/鹿乃 - アイロニ.lrc&quot;</span></span><br><span class="line">    lrcType=<span class="string">&quot;3&quot;</span></span><br><span class="line">%&#125;</span><br></pre></td></tr></table></div></figure>

        <h3 id="视频"   >
          <a href="#视频" class="heading-link"><i class="fas fa-link"></i></a><a href="#视频" class="headerlink" title="视频"></a>视频</h3>
      <p>插入dplayer音频播放器需要在Front-matter中添加dplayer: true</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;%  dplayer</span><br><span class="line">    url=<span class="string">&quot;https://qiniu.sukoshi.xyz/video/%E7%BE%8E.mp4&quot;</span></span><br><span class="line">    pic=<span class="string">&quot;https://qiniu.sukoshi.xyz/video/%E7%BE%8E.mp4?vframe/jpg/offset/10&quot;</span></span><br><span class="line">%&#125;</span><br></pre></td></tr></table></div></figure></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/08/16/dateTime/">时间格式转化</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-08-16</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="中国标准格式"   >
          <a href="#中国标准格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#中国标准格式" class="headerlink" title="中国标准格式"></a>中国标准格式</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date() </span><br><span class="line">Tue Aug 16 2022 16:53:03 GMT+0800 (中国标准时间)</span><br></pre></td></tr></table></div></figure>


        <h3 id="国际标准时间-toISOString"   >
          <a href="#国际标准时间-toISOString" class="heading-link"><i class="fas fa-link"></i></a><a href="#国际标准时间-toISOString" class="headerlink" title="国际标准时间 toISOString"></a>国际标准时间 toISOString</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toISOString() </span><br><span class="line"><span class="string">&#x27;2022-08-16T08:53:27.977Z&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="中国标准时间转化为时间戳"   >
          <a href="#中国标准时间转化为时间戳" class="heading-link"><i class="fas fa-link"></i></a><a href="#中国标准时间转化为时间戳" class="headerlink" title="中国标准时间转化为时间戳"></a>中国标准时间转化为时间戳</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date() * 1 </span><br><span class="line">1660639709504</span><br><span class="line">or</span><br><span class="line">const time = new Date() * getTime() </span><br><span class="line">1660639709504</span><br></pre></td></tr></table></div></figure>


        <h3 id="获取全部时间"   >
          <a href="#获取全部时间" class="heading-link"><i class="fas fa-link"></i></a><a href="#获取全部时间" class="headerlink" title="获取全部时间"></a>获取全部时间</h3>
      <ol>
<li>获取时间的时分秒 toLocaleTimeString<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toLocaleTimeString() </span><br><span class="line"><span class="string">&#x27;12:12:12&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li>获取时间的年月日 toLocaleDateString<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toLocaleDateString() </span><br><span class="line"><span class="string">&#x27;2022/8/16&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li>获取全部时间 toLocaleString<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toLocaleString() </span><br><span class="line"><span class="string">&#x27;2022/8/16 16:54:02&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li>获取标准的年月日 toDateString<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toDateString() </span><br><span class="line"><span class="string">&#x27;Tue Aug 16 2022&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li>toGMTString <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toGMTString()</span><br><span class="line"><span class="string">&#x27;Tue, 16 Aug 2022 08:57:12 GMT&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li>toUTCString<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toUTCString()</span><br><span class="line"><span class="string">&#x27;Tue, 16 Aug 2022 08:58:10 GMT&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li>toJSON<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toJSON()</span><br><span class="line"><span class="string">&#x27;2022-08-16T09:00:32.308Z&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li>toString<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toString()</span><br><span class="line"><span class="string">&#x27;Tue Aug 16 2022 17:01:40 GMT+0800 (中国标准时间)&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li>toTimeString<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const time = new Date().toTimeString()</span><br><span class="line"><span class="string">&#x27;17:01:52 GMT+0800 (中国标准时间)&#x27;</span></span><br></pre></td></tr></table></div></figure></li>
<li><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const formatTime = (time: any, format?:<span class="string">&#x27;YMD HM&#x27;</span>) =&gt;&#123;</span><br><span class="line">    const <span class="built_in">date</span> = new Date()</span><br><span class="line">    const year = new Date(<span class="built_in">date</span>).getFullYear()</span><br><span class="line">    const monthStr = new Date(<span class="built_in">date</span>).getMonth()+1</span><br><span class="line">    const dateStr = new Date(<span class="built_in">date</span>).getDate()</span><br><span class="line">    const hourStr = new Date(<span class="built_in">date</span>).getHours()</span><br><span class="line">    const minutesStr = new Date(<span class="built_in">date</span>).getMinutes()</span><br><span class="line">    const secondStr = new Date(<span class="built_in">date</span>).getSeconds()</span><br><span class="line">   <span class="keyword">if</span> (format === <span class="string">&#x27;YMD HM&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">return</span> `<span class="variable">$&#123;year&#125;</span>-<span class="variable">$&#123;monthStr&#125;</span>-<span class="variable">$&#123;d&#125;</span> <span class="variable">$&#123;hourStr&#125;</span>:<span class="variable">$&#123;minutesStr&#125;</span>:<span class="variable">$&#123;secondStr&#125;</span>`;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> `<span class="variable">$&#123;year&#125;</span>/<span class="variable">$&#123;monthStr&#125;</span>/<span class="variable">$&#123;dateStr&#125;</span> <span class="variable">$&#123;hourStr&#125;</span>:<span class="variable">$&#123;minutesStr&#125;</span>:<span class="variable">$&#123;secondStr&#125;</span>`;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></li>
</ol>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/08/15/ts/">typescript的方法</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-08-15</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="Partial"   >
          <a href="#Partial" class="heading-link"><i class="fas fa-link"></i></a><a href="#Partial" class="headerlink" title="Partial"></a>Partial</h3>
      <p>可把定义好的对象（包含 必选+可选项）类型全部转化为可选项</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface User &#123;</span><br><span class="line">    <span class="built_in">id</span>: number;</span><br><span class="line">    age: number;</span><br><span class="line">    name: string;</span><br><span class="line">&#125;;</span><br><span class="line">interface item &#123;</span><br><span class="line">    a: string</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">export</span> <span class="built_in">declare</span> <span class="built_in">type</span> ButtonProps = Partial&lt;User &amp; item&gt;;</span><br><span class="line">&#123;<span class="built_in">id</span>?: number; age?: number; name?: string; a?: string&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="Pick-采集"   >
          <a href="#Pick-采集" class="heading-link"><i class="fas fa-link"></i></a><a href="#Pick-采集" class="headerlink" title="Pick 采集"></a>Pick 采集</h3>
      <p>可以采集 已定义对象中 自己需要的一部分形成新的定义类型</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface User &#123;</span><br><span class="line">    <span class="built_in">id</span>: number;</span><br><span class="line">    age: number;</span><br><span class="line">    name: string;</span><br><span class="line">&#125;;</span><br><span class="line">interface item &#123;</span><br><span class="line">    a: string</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">export</span> <span class="built_in">declare</span> <span class="built_in">type</span> ButtonProps = Pick&lt;User &amp; item, <span class="string">&#x27;id&#x27;</span>|<span class="string">&#x27;a&#x27;</span>&gt;;</span><br><span class="line">&#123;<span class="built_in">id</span>: number;  a: string&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="Omit-省略-剔除"   >
          <a href="#Omit-省略-剔除" class="heading-link"><i class="fas fa-link"></i></a><a href="#Omit-省略-剔除" class="headerlink" title="Omit 省略&#x2F;剔除"></a>Omit 省略&#x2F;剔除</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> Person = &#123;</span><br><span class="line">    name: string,</span><br><span class="line">    age: number</span><br><span class="line">&#125;</span><br><span class="line">const a: Omit&lt;Person, <span class="string">&#x27;name&#x27;</span>&gt; = &#123; age: 4 &#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="Required-必选的"   >
          <a href="#Required-必选的" class="heading-link"><i class="fas fa-link"></i></a><a href="#Required-必选的" class="headerlink" title="Required (必选的)"></a>Required (必选的)</h3>
      <p>Required 和 Partial刚好相反,可把定义好的对象（包含 必选+可选项）类型全部转化为 必选项</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    <span class="built_in">id</span>?: number;</span><br><span class="line">&#125;</span><br><span class="line">const newObj: Required&lt;Person&gt; = &#123;</span><br><span class="line">    name: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    <span class="built_in">id</span>: 1,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></div></figure>


        <h3 id="Readonly-转化只读"   >
          <a href="#Readonly-转化只读" class="heading-link"><i class="fas fa-link"></i></a><a href="#Readonly-转化只读" class="headerlink" title="Readonly (转化只读)"></a>Readonly (转化只读)</h3>
      <p>Readonly 就是为类型对象每一项添加前缀 Readonly</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">    <span class="built_in">readonly</span> name: string; // 只有这一项有<span class="built_in">readonly</span></span><br><span class="line">    age: number;</span><br><span class="line">    <span class="built_in">id</span>?: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 使用方法</span><br><span class="line">const newObj: Readonly&lt;Person&gt; = &#123;</span><br><span class="line">    name: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    age: 1,</span><br><span class="line">    <span class="built_in">id</span>: 1</span><br><span class="line">&#125;;</span><br><span class="line">// newObj.name = <span class="string">&#x27;李四&#x27;</span>; // 异常 因为有<span class="built_in">readonly</span>只读属性，只能初始化声明，不能赋值。</span><br></pre></td></tr></table></div></figure>


        <h3 id="Extract-提取-包括"   >
          <a href="#Extract-提取-包括" class="heading-link"><i class="fas fa-link"></i></a><a href="#Extract-提取-包括" class="headerlink" title="Extract (提取&#x2F;包括)"></a>Extract (提取&#x2F;包括)</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">    name: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface NewPerson &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">    <span class="built_in">id</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">export</span> <span class="built_in">declare</span> <span class="built_in">type</span> aa = Extract&lt;NewPerson, Person&gt;;</span><br><span class="line">&#123; name: string; age: number; <span class="built_in">id</span>: number;&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="Exclude-排除-不包括"   >
          <a href="#Exclude-排除-不包括" class="heading-link"><i class="fas fa-link"></i></a><a href="#Exclude-排除-不包括" class="headerlink" title="Exclude (排除&#x2F;不包括)"></a>Exclude (排除&#x2F;不包括)</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    b: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface NewPerson &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">    <span class="built_in">id</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">export</span> <span class="built_in">declare</span> <span class="built_in">type</span> aa = Exclude&lt;NewPerson, Person&gt;;</span><br></pre></td></tr></table></div></figure></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/08/09/domainName/">修改本地服务域名</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-08-09</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="修改域名"   >
          <a href="#修改域名" class="heading-link"><i class="fas fa-link"></i></a><a href="#修改域名" class="headerlink" title="修改域名"></a>修改域名</h3>
      <p>在项目中根目录找到package.json文件<br>在启服务的代码里面添加</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HOST=【自己的域名】</span><br></pre></td></tr></table></div></figure>
<p><img src="/../assets/do.png" alt="avatar"></p>

        <h3 id="配置域名"   >
          <a href="#配置域名" class="heading-link"><i class="fas fa-link"></i></a><a href="#配置域名" class="headerlink" title="配置域名"></a>配置域名</h3>
      <ol>
<li><p>MAC电脑<br>主屏幕输入 shift+command+g 后输入&#x2F;etc&#x2F;hosts<br><img src="/../assets/do1.png" alt="avatar"><br>把hosts文件拖到vscode里面<br><img src="/../assets/do2.png" alt="avatar"><br>修改成你的域名 保存<br><img src="/../assets/do3.png" alt="avatar"><br>最后启动本地项目就OK了</p>
</li>
<li><p>windows<br>通过组合键”windows + R”调出运行窗口，输入”c:\WINDOWS\system32\drivers\etc”，就可以进入到hosts文件所在目录<br><img src="/../assets/window.png" alt="avatar"><br><img src="/../assets/window1.png" alt="avatar"><br>右键点击”hosts”文件，选择打开方式 选中记事本打开该hosts文件。<br><img src="/../assets/window2.png" alt="avatar"><br>最后在蓝色下方添加一条并修改后面的域名<br><img src="/../assets/do3.png" alt="avatar"></p>
</li>
</ol>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/08/02/reactConcent/">react-concent</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-08-02</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="官方文档"   >
          <a href="#官方文档" class="heading-link"><i class="fas fa-link"></i></a><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3>
      <p><span class="exturl"><a class="exturl__link"   href="https://concentjs.github.io/concent-doc/guide/first-sight"  target="_blank">https://concentjs.github.io/concent-doc/guide/first-sight</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="创建项目"   >
          <a href="#创建项目" class="heading-link"><i class="fas fa-link"></i></a><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app my-app --template concent-ts</span><br><span class="line">或</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/concentjs/cra-project-concent-ts</span><br></pre></td></tr></table></div></figure>

        <h3 id="下包-有项目直接下包"   >
          <a href="#下包-有项目直接下包" class="heading-link"><i class="fas fa-link"></i></a><a href="#下包-有项目直接下包" class="headerlink" title="下包(有项目直接下包)"></a>下包(有项目直接下包)</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i --save concent</span><br><span class="line">或</span><br><span class="line">yarn add concent</span><br></pre></td></tr></table></div></figure>


        <h3 id="使用concent"   >
          <a href="#使用concent" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用concent" class="headerlink" title="使用concent"></a>使用concent</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引入concent</span></span><br><span class="line">import &#123; run, register, useConcent &#125; from <span class="string">&#x27;concent&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用run方法生成一个为counter的store</span></span><br><span class="line">run(&#123;</span><br><span class="line">  counter: &#123;</span><br><span class="line">    state: &#123; num: 1, numBig: 100 &#125;, <span class="comment"># 数据默认值</span></span><br><span class="line">    reducer:&#123;&#125;, <span class="comment"># 修改数据 定义方法</span></span><br><span class="line">    computed:&#123;&#125;, <span class="comment"># 计算函数</span></span><br><span class="line">    watch:&#123;&#125;, <span class="comment"># 监听数据</span></span><br><span class="line">    init:&#123;&#125;， <span class="comment">#</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">DemoFn</span></span>()&#123;</span><br><span class="line">  const &#123; state, setState &#125; = useConcent(<span class="string">&#x27;counter&#x27;</span>); // 👈 注册使用 </span><br><span class="line">  const inc = ()=&gt; setState(&#123;num: state.num + 1&#125;);</span><br><span class="line">  <span class="built_in">return</span> &lt;button onClick=&#123;inc&#125;&gt;&#123;state.num&#125;&lt;/button&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/07/29/recduceFilter/">纯前端实现列表筛选</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-07-29</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="获取全部数据"   >
          <a href="#获取全部数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#获取全部数据" class="headerlink" title="获取全部数据"></a>获取全部数据</h3>
      <p>前提是你可以拿到全部数据否则筛选的数据可能会有误</p>

        <h3 id="查询的值进行重组"   >
          <a href="#查询的值进行重组" class="heading-link"><i class="fas fa-link"></i></a><a href="#查询的值进行重组" class="headerlink" title="查询的值进行重组"></a>查询的值进行重组</h3>
      <p>查询的key值要与数据的key一致</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const obj = &#123; a:1,b:2,c:3&#125;</span><br><span class="line">const filterList = Object.keys(obj).map(v=&gt;(&#123;key:v, value: obj[v]&#125;))</span><br><span class="line">const list = []</span><br></pre></td></tr></table></div></figure>


        <h3 id="使用reducer方法"   >
          <a href="#使用reducer方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用reducer方法" class="headerlink" title="使用reducer方法"></a>使用reducer方法</h3>
      <p>list: 全部数据<br>initList: list &#x3D; 全部数据<br>item: filterList的每一项<br>需要判断查询的值是否为空<br>indexOf的使用要看你查询的值是查其中一个就可以还是全部才可以</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const newList = []</span><br><span class="line">newList = filterList.reduce((initList, item)=&gt;&#123;</span><br><span class="line">    const &#123; key, value&#125; = item</span><br><span class="line">    if(value)&#123;</span><br><span class="line">       if(key === a)&#123;</span><br><span class="line">        // 查询值必须全部一致</span><br><span class="line">        initList.filter(v=&gt;v[key] === value)</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 查询的值查其实一个或多个</span><br><span class="line">  return value: initList.filter(v=&gt;v[key].indexOf(value) !== -<span class="number">1</span>):initList </span><br><span class="line"> &#125;  </span><br><span class="line">&#125;, list)</span><br></pre></td></tr></table></div></figure>

</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2022/07/28/reactRef/">react-ref使用</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-07-28</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-09-05</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="ref的两种创建方式"   >
          <a href="#ref的两种创建方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#ref的两种创建方式" class="headerlink" title="ref的两种创建方式"></a>ref的两种创建方式</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface Type &#123;</span><br><span class="line">    reset?: any</span><br><span class="line">&#125;</span><br><span class="line">1. const ref1:&#123; current: any&#125; = React.useRef&lt;Type&gt;()</span><br><span class="line">2. const ref2:&#123; current: any&#125; = React.createRef&lt;Type&gt;()</span><br><span class="line">3. const ref3 = React.useRef&lt;Type&gt;()</span><br><span class="line">4. const ref4 = React.createRef&lt;Type&gt;()</span><br></pre></td></tr></table></div></figure>


        <h3 id="ref的使用"   >
          <a href="#ref的使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#ref的使用" class="headerlink" title="ref的使用"></a>ref的使用</h3>
      <p>在需要的地方使用<br>如果使用组件 请看官方文档～～</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ref=&#123;ref1&#125;&gt;&lt;/div&gt;</span><br><span class="line">或</span><br><span class="line">&lt;div ref=&#123;ref2&#125;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></div></figure>

        <h3 id="调用ref"   >
          <a href="#调用ref" class="heading-link"><i class="fas fa-link"></i></a><a href="#调用ref" class="headerlink" title="调用ref"></a>调用ref</h3>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">需要的地方调用 reset为需要调用的方法</span><br><span class="line">[1,2] 使用 ref.current?.reset()</span><br><span class="line">或</span><br><span class="line">[3,4] 使用 ref.current?.reset!()</span><br></pre></td></tr></table></div></figure>

</div></div></article></section><nav class="paginator"><div class="paginator-inner"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/assets/1.jpeg" alt="avatar"></div></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">12</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">2</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">10</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Like-Mt-T</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v6.3.0</span><span class="footer__devider">|</span><span>Theme - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>